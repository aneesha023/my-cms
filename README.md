# Payload CMS â€“ Multi-Tenant Form Builder with Supabase & Vercel

This project is a fully functional backend CMS built using [Payload CMS](https://payloadcms.com/), integrated with:

- **Supabase** (PostgreSQL DB)
- **@payloadcms/plugin-form-builder** (Customizable forms)
- **@payloadcms/plugin-multi-tenant** (Tenant-level access control)
- **Vercel** (Frontend/Backend deployment)

---

## ğŸŒ Live Demo

[[https://my-cms-five.vercel.app/admin]((https://my-cms-five.vercel.app/))

---

## âš™ï¸ Features

- âœ… Payload CMS Admin Panel (publicly accessible)
- âœ… Multi-Tenant setup: Each tenant has isolated forms/submissions
- âœ… Contact Form with Name, Email, and Message fields
- âœ… Supabase used as a managed Postgres backend
- âœ… Fully deployed on Vercel (Free Tier)

---

## ğŸ§‘â€ğŸ’» Setup Instructions

### 1. Clone the repo

```bash
git clone https://github.com/your-username/your-repo.git
cd your-repo
```

### 2. Install dependencies

```bash
npm install
```

### 3. Configure environment

Create a `.env` file in the root:

```env
PAYLOAD_SECRET=your-secret
DATABASE_URI=your-supabase-postgres-uri
SERVER_URL=http://localhost:3000
```

Get `DATABASE_URI` from [Supabase](https://supabase.com/):

```
postgresql://<user>:<password>@<host>:5432/postgres
```

### 4. Run locally

```bash
npm run dev
```

---

## ğŸš€ Deployment (Vercel)

1. Push this project to a GitHub repo.
2. Connect the repo to [Vercel](https://vercel.com/).
3. Add the following environment variables in Vercel project settings:

```
PAYLOAD_SECRET=
DATABASE_URI=
SERVER_URL=https://your-vercel-domain.vercel.app
```

4. Set `Build Command`: `npm run build`
5. Set `Output Directory`: `.output`

---

## ğŸ“ Folder Structure

```
â”œâ”€â”€ payload.config.ts        # Main Payload configuration
â”œâ”€â”€ src/
â”‚   â””â”€â”€ app/                 # Next.js frontend (optional)
â”œâ”€â”€ collections/             # Tenants, Users
â”œâ”€â”€ plugins/                 # Multi-tenant & FormBuilder plugins
â”œâ”€â”€ .env                     # Environment variables
```

---

## ğŸ§© Plugins Used

### ğŸ”¹ @payloadcms/plugin-form-builder

> Allows admin to create and manage form fields and collect responses.

- `GET /api/form-builder/forms/:id` â€“ fetch a form
- `POST /api/form-builder/submissions` â€“ submit a response

### ğŸ”¸ @payloadcms/plugin-multi-tenant

> Enforces tenant-level access to forms and submissions.

- Tenants and Users must be associated via a `relationship` field.
- Each user only sees their tenant's forms/submissions.

---

## âœ… Collections

- **Tenants** â€“ Holds organization names
- **Users** â€“ Auth-enabled, each linked to a `tenant`
- **Form Submissions** â€“ Auto-generated by FormBuilder plugin

---

## ğŸ‘¥ Multi-Tenancy Example

- **Tenant A**: Sees only their forms/submissions
- **Tenant B**: Cannot access A's data

---

## âœï¸ Author

**Aneesha Varma**  
_BTech student â€¢ Backend Developer â€¢ Cloud & Security Enthusiast_

---

> Built with â¤ï¸ using Payload, Supabase, and Vercel
