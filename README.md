# Payload CMS – Multi-Tenant Form Builder with Supabase & Vercel

This project is a fully functional backend CMS built using [Payload CMS](https://payloadcms.com/), integrated with:

- **Supabase** (PostgreSQL DB)
- **@payloadcms/plugin-form-builder** (Customizable forms)
- **@payloadcms/plugin-multi-tenant** (Tenant-level access control)
- **Vercel** (Frontend/Backend deployment)

---

## 🌐 Live Demo

[[https://my-cms-five.vercel.app/admin]((https://my-cms-five.vercel.app/))

---

## ⚙️ Features

- ✅ Payload CMS Admin Panel (publicly accessible)
- ✅ Multi-Tenant setup: Each tenant has isolated forms/submissions
- ✅ Contact Form with Name, Email, and Message fields
- ✅ Supabase used as a managed Postgres backend
- ✅ Fully deployed on Vercel (Free Tier)

---

## 🧑‍💻 Setup Instructions

### 1. Clone the repo

```bash
git clone https://github.com/your-username/your-repo.git
cd your-repo
```

### 2. Install dependencies

```bash
npm install
```

### 3. Configure environment

Create a `.env` file in the root:

```env
PAYLOAD_SECRET=your-secret
DATABASE_URI=your-supabase-postgres-uri
SERVER_URL=http://localhost:3000
```

Get `DATABASE_URI` from [Supabase](https://supabase.com/):

```
postgresql://<user>:<password>@<host>:5432/postgres
```

### 4. Run locally

```bash
npm run dev
```

---

## 🚀 Deployment (Vercel)

1. Push this project to a GitHub repo.
2. Connect the repo to [Vercel](https://vercel.com/).
3. Add the following environment variables in Vercel project settings:

```
PAYLOAD_SECRET=
DATABASE_URI=
SERVER_URL=https://your-vercel-domain.vercel.app
```

4. Set `Build Command`: `npm run build`
5. Set `Output Directory`: `.output`

---

## 📁 Folder Structure

```
├── payload.config.ts        # Main Payload configuration
├── src/
│   └── app/                 # Next.js frontend (optional)
├── collections/             # Tenants, Users
├── plugins/                 # Multi-tenant & FormBuilder plugins
├── .env                     # Environment variables
```

---

## 🧩 Plugins Used

### 🔹 @payloadcms/plugin-form-builder

> Allows admin to create and manage form fields and collect responses.

- `GET /api/form-builder/forms/:id` – fetch a form
- `POST /api/form-builder/submissions` – submit a response

### 🔸 @payloadcms/plugin-multi-tenant

> Enforces tenant-level access to forms and submissions.

- Tenants and Users must be associated via a `relationship` field.
- Each user only sees their tenant's forms/submissions.

---

## ✅ Collections

- **Tenants** – Holds organization names
- **Users** – Auth-enabled, each linked to a `tenant`
- **Form Submissions** – Auto-generated by FormBuilder plugin

---

## 👥 Multi-Tenancy Example

- **Tenant A**: Sees only their forms/submissions
- **Tenant B**: Cannot access A's data

---

## ✍️ Author

**Aneesha Varma**  
_BTech student • Backend Developer • Cloud & Security Enthusiast_

---

> Built with ❤️ using Payload, Supabase, and Vercel
